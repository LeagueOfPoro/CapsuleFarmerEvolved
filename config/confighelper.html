<html>
    <head>
        <title>CapsuleFarmerEvolved config helper</title>
        <style>
            code {
                background-color: #eee;
                border: 1px solid #999;
                display: block;
                width: 20%;
                padding: 20px;
            }           
        </style>
    </head>

    <body>
        <h1>CapsuleFarmerEvolved config helper</h1>
        <h3>Use this to generate your config file. <br>The account name will only be visible in the software.<br>The username and password are the ones you use to log into <a href="https://lolesports.com">lolesports.com</a><br>Your login information, or any other data are not sent to us, the internet, or any third party outside of your personal computer.<br>(Open sourced on github: <a href="https://raw.githubusercontent.com/LeagueOfPoro/CapsuleFarmerEvolved/master/confighelper.html">click here</a>)<br>When you're done with adding accounts, copy the config below and paste it into config.yaml<br>Alternatively, you can use the Download button under the config to download it.<br>For any issues open a ticket in the help channel.<br>- Six#9552</h3>
        <label for="accountname">Account name:</label>
        <input type="text" name="accountname" id="accountname"><br>
        <label for="username">Riot username:</label>
        <input type="text" name="username" id="username"><br>
        <label for="password">Riot password:</label>
        <input type="password" name="password" id="password">
        <button onclick="addAccount()">Add account</button>

        <h2>Your config:</h2>
        <code id="config">accounts:</code>
        <label for="test">Or alternatively: </label>
        <button name="test" id="test">Download</button>
        <script>
            var toDownload = "accounts:"
            function addAccount() {
                function addslashes( str ) {
                return (str + '').replace(/[\\"']/g, '\\$&').replace(/\u0000/g, '\\0');
                }
                var accountname = addslashes(document.getElementById("accountname").value)
                var username = addslashes(document.getElementById("username").value)
                var password = addslashes(document.getElementById("password").value)
                toDownload += "\n  " + accountname + ":\n    username: \"" + username + "\"\n    password: \"" + password + "\""
                document.getElementById("config").innerHTML+="<br>&nbsp;&nbsp;"+accountname+":<br>&nbsp;&nbsp;&nbsp;&nbsp;username:&nbsp;\""+username+"\"<br>&nbsp;&nbsp;&nbsp;&nbsp;password:&nbsp;\""+password +"\""
            }
            function download() {
            var hiddenElement = document.createElement('a');

            hiddenElement.href = 'data:attachment/text,' + encodeURI(toDownload);
            hiddenElement.target = '_blank';
            hiddenElement.download = 'config.yaml';
            hiddenElement.click();
        }

        document.getElementById('test').addEventListener('click', download);
        </script>
    </body>
</html>
